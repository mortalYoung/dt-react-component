"use strict";(self.webpackChunkdt_react_component=self.webpackChunkdt_react_component||[]).push([[4905],{69774:function(q,h,_){_.r(h),_.d(h,{default:function(){return o}});var I=_(90554),X=_.n(I),S=_(28870),f=_(86516),z=_.n(f),v=_(79685),u=_(20954),d=_(74873),t=_(63342);function o(){var F,e=u.Z.useChat(),M=(0,v.useState)(""),A=z()(M,2),K=A[0],j=A[1],L=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K,R=$.trim();if(!(e.loading()||!R)){j("");var b=new Date().valueOf().toString(),D=(new Date().valueOf()+1).toString();e.prompt.create({id:b,title:R}),e.message.create(b,{id:D,content:""}),(0,d.t)({message:R,onopen:function(){e.start(b,D)},onmessage:function(B){e.push(b,D,B)},onstop:function(){e.close(b,D)}})}};return(0,v.useEffect)(function(){e.conversation.create({id:new Date().valueOf().toString()})},[]),(0,t.jsx)("div",{style:{width:"100%",height:400},children:(0,t.jsxs)(u.Z,{chat:e,children:[(0,t.jsx)(u.Z.Content,{data:((F=e.conversation.get())===null||F===void 0?void 0:F.prompts)||[],placeholder:(0,t.jsxs)("h1",{children:["\u6709\u4EC0\u4E48\u53EF\u4EE5\u5E2E\u5FD9\u7684\uFF1F",(0,t.jsx)("br",{}),(0,t.jsx)(S.default,{onClick:function(){return L("\u8BF7\u544A\u8BC9\u6211\u4E00\u9996\u8BD7")},children:"\u8FD4\u56DE\u4E00\u9996\u8BD7"})]})}),(0,t.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,t.jsx)(u.Z.Input,{value:K,onChange:j,onPressEnter:function(){return L()},placeholder:"\u8BF7\u8F93\u5165\u60F3\u54A8\u8BE2\u7684\u5185\u5BB9\u2026"}),(0,t.jsx)(u.Z.Button,{type:"primary",onClick:function(){return L()},disabled:e.loading()||!K,children:(0,t.jsx)(u.Z.Icon.SendIcon,{style:{fontSize:16,padding:"8px 16px"}})})]})]})})}},86054:function(q,h,_){_.r(h),_.d(h,{default:function(){return t_}});var I=_(90554),X=_.n(I),S=_(28870),f=_(58969),z=_.n(f),v=_(9683),u=_(5677),d=_.n(u),t=_(48651),o=_.n(t),F=_(12903),e=_.n(F),M=_(32810),A=_.n(M),K=_(89822),j=_.n(K),L=_(38832),O=_.n(L),$=_(70300),R=_.n($),b=_(86516),D=_.n(b),P=_(79685),B=_(20954),W=_(76165),H=_(53874),u_=_(74873),s=_(63342);function t_(){var G=(0,P.useState)([{label:"Tab 1",children:"Content of Tab 1",key:"1"}]),y=D()(G,2),a=y[0],x=y[1],Q=(0,P.useState)("1"),Y=D()(Q,2),r=Y[0],Z=Y[1],J=(0,P.useState)({}),__=D()(J,2),n_=__[0],V=__[1],r_=function(){var m=new Date().valueOf().toString(),l=R()(a);l.push({label:"New Tab",children:"Content of new Tab",key:m}),x(l),Z(m)},s_=function(m){var l=r,g=-1;a.forEach(function(N,w){N.key===m&&(g=w-1)});var T=a.filter(function(N){return N.key!==m});T.length&&l===m&&(g>=0?l=T[g].key:l=T[0].key),x(T),Z(l)},e_=(0,P.useMemo)(function(){return n_[r]},[r,n_]),a_=function(m){if(!e_){var l=new Date().valueOf().toString(),g=(new Date().valueOf()+1).toString(),T=(new Date().valueOf()+2).toString(),N=new(function(E){j()(n,E);var i=O()(n);function n(){return A()(this,n),i.apply(this,arguments)}return e()(n)}(W.v0))({id:g}),w=new(function(E){j()(n,E);var i=O()(n);function n(){return A()(this,n),i.apply(this,arguments)}return e()(n)}(W.NL))({id:l,title:m,messages:[N]}),l_=new(function(E){j()(n,E);var i=O()(n);function n(){return A()(this,n),i.apply(this,arguments)}return e()(n)}(W.ri))({id:T,prompts:[w]});V(function(E){return o()(o()({},E),{},d()({},r,l_))}),(0,u_.t)({message:m,onopen:function(){V(function(i){return o()(o()({},i),{},d()({},r,(0,H.Uy)(i[r],function(n){var p=n.prompts.find(function(c){return c.id===l}),C=p==null?void 0:p.messages.find(function(c){return c.id===g});C&&(C.status=W.rJ.GENERATING)})))})},onmessage:function(i){V(function(n){return o()(o()({},n),{},d()({},r,(0,H.Uy)(n[r],function(p){var C=p.prompts.find(function(k){return k.id===l}),c=C==null?void 0:C.messages.find(function(k){return k.id===g});c&&(c.content+=i)})))})},onstop:function(){V(function(i){return o()(o()({},i),{},d()({},r,(0,H.Uy)(i[r],function(n){var p=n.prompts.find(function(c){return c.id===l}),C=p==null?void 0:p.messages.find(function(c){return c.id===g});C&&(C.status=W.rJ.DONE)})))})}})}};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.default,{type:"editable-card",onChange:Z,activeKey:r,onEdit:function(m,l){l==="add"?r_():s_(m)},children:a.map(function(U){return(0,s.jsx)(v.default.TabPane,{tab:U.label,closable:a.length!==1},U.key)})}),(0,s.jsx)(o_,{data:e_,onSubmit:a_})]})}function o_(G){var y=G.data,a=G.onSubmit,x=B.Z.useChat(),Q=(0,P.useState)(""),Y=D()(Q,2),r=Y[0],Z=Y[1];return(0,s.jsx)("div",{style:{width:"100%",height:400},children:(0,s.jsxs)(B.Z,{chat:x,children:[(0,s.jsx)(B.Z.Content,{data:(y==null?void 0:y.prompts)||[],placeholder:(0,s.jsxs)("h1",{children:["\u6709\u4EC0\u4E48\u53EF\u4EE5\u5E2E\u5FD9\u7684\uFF1F",(0,s.jsx)("br",{}),(0,s.jsx)(S.default,{onClick:function(){return a==null?void 0:a("\u8BF7\u544A\u8BC9\u6211\u4E00\u9996\u8BD7")},children:"\u8FD4\u56DE\u4E00\u9996\u8BD7"})]})}),(0,s.jsxs)("div",{style:{display:"flex",gap:4},children:[(0,s.jsx)(B.Z.Input,{value:r,onChange:Z,onPressEnter:function(){return a==null?void 0:a(r)},placeholder:"\u8BF7\u8F93\u5165\u60F3\u54A8\u8BE2\u7684\u5185\u5BB9\u2026"}),(0,s.jsx)(B.Z.Button,{type:"primary",onClick:function(){return a==null?void 0:a(r)},disabled:x.loading()||!r,children:(0,s.jsx)(B.Z.Icon.SendIcon,{style:{fontSize:16,padding:"8px 16px"}})})]})]})})}},74873:function(q,h,_){_.d(h,{t:function(){return S}});var I=[`### \u5C06\u8FDB\u9152
\u541B\u4E0D\u89C1\u9EC4\u6CB3\u4E4B\u6C34\u5929\u4E0A\u6765\uFF0C\u5954\u6D41\u5230\u6D77\u4E0D\u590D\u56DE\u3002

\u541B\u4E0D\u89C1\u9AD8\u5802\u660E\u955C\u60B2\u767D\u53D1\uFF0C\u671D\u5982\u9752\u4E1D\u66AE\u6210\u96EA\u3002

\u4EBA\u751F\u5F97\u610F\u987B\u5C3D\u6B22\uFF0C\u83AB\u4F7F\u91D1\u6A3D\u7A7A\u5BF9\u6708\u3002

\u5929\u751F\u6211\u6750\u5FC5\u6709\u7528\uFF0C\u5343\u91D1\u6563\u5C3D\u8FD8\u590D\u6765\u3002

\u70F9\u7F8A\u5BB0\u725B\u4E14\u4E3A\u4E50\uFF0C\u4F1A\u987B\u4E00\u996E\u4E09\u767E\u676F\u3002

\u5C91\u592B\u5B50\uFF0C\u4E39\u4E18\u751F\uFF0C\u5C06\u8FDB\u9152\uFF0C\u676F\u83AB\u505C\u3002

\u4E0E\u541B\u6B4C\u4E00\u66F2\uFF0C\u8BF7\u541B\u4E3A\u6211\u503E\u8033\u542C\u3002

\u949F\u9F13\u9994\u7389\u4E0D\u8DB3\u8D35\uFF0C\u4F46\u613F\u957F\u9189\u4E0D\u613F\u9192\u3002

\u53E4\u6765\u5723\u8D24\u7686\u5BC2\u5BDE\uFF0C\u60DF\u6709\u996E\u8005\u7559\u5176\u540D\u3002

\u9648\u738B\u6614\u65F6\u5BB4\u5E73\u4E50\uFF0C\u6597\u9152\u5341\u5343\u6063\u6B22\u8C11\u3002

\u4E3B\u4EBA\u4F55\u4E3A\u8A00\u5C11\u94B1\uFF0C\u5F84\u987B\u6CBD\u53D6\u5BF9\u541B\u914C\u3002

\u4E94\u82B1\u9A6C\u3001\u5343\u91D1\u88D8\uFF0C\u547C\u513F\u5C06\u51FA\u6362\u7F8E\u9152\uFF0C\u4E0E\u5C14\u540C\u9500\u4E07\u53E4\u6101\u3002
`];function X(){return Math.floor(Math.random()*10)}function S(f){var z=f.message,v=f.onopen,u=f.onmessage,d=f.onstop;if(v==null||v(),z.includes("\u8BD7"))var t=I[0],o=0,F=window.setInterval(function(){var e=X(),M=o+e;if(M>=t.length){M=t.length,window.clearInterval(F),u==null||u(t.slice(o,o+e)),d==null||d();return}u==null||u(t.slice(o,o+e)),o+=e},100);else u==null||u("\u6839\u636E\u4F60\u7684\u63CF\u8FF0\u6682\u672A\u68C0\u7D22\u76F8\u5173\u8BD7\u8BCD\u3002"),d==null||d()}}}]);
